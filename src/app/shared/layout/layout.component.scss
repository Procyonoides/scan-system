$sidebar-width: 260px;
$sidebar-collapsed-width: 70px;
$navbar-height: 64px;
$transition: 0.3s ease-in-out;

// ============ MAIN LAYOUT ============
.layout-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100%;
  background-color: #f5f7fb;
  overflow: hidden;
}

// ============ NAVBAR ============
app-navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: $navbar-height;
  z-index: 1030;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  flex-shrink: 0;
}

// ============ SIDEBAR & CONTENT WRAPPER ============
.layout-body {
  display: flex;
  flex: 1;
  margin-top: $navbar-height;
  width: 100%;
  overflow: hidden;
  position: relative;
  transition: all $transition;
}

// ============ SIDEBAR ============
app-sidebar {
  flex-shrink: 0;
  height: calc(100vh - #{$navbar-height});
  overflow: hidden;
  border-right: 1px solid #e9ecef;
  transition: all $transition !important;
  width: $sidebar-width;
  min-width: $sidebar-width;
}

// ✅ EXPANDED STATE - Default
html:not([data-sidebar-collapse='true']) app-sidebar {
  width: $sidebar-width !important;
  min-width: $sidebar-width !important;

  .sidebar-wrapper {
    width: $sidebar-width !important;
    min-width: $sidebar-width !important;
  }

  .sidebar-main {
    width: $sidebar-width !important;
    min-width: $sidebar-width !important;
  }
}

// ✅ COLLAPSED STATE - When attribute is set
html[data-sidebar-collapse='true'] app-sidebar {
  width: $sidebar-collapsed-width !important;
  min-width: $sidebar-collapsed-width !important;

  .sidebar-wrapper {
    width: $sidebar-collapsed-width !important;
    min-width: $sidebar-collapsed-width !important;
  }

  .sidebar-main {
    width: $sidebar-collapsed-width !important;
    min-width: $sidebar-collapsed-width !important;
  }
}

// ============ MAIN CONTENT ============
.layout-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background-color: #f5f7fb;
  transition: all $transition;

  .content-area {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;

    @media (max-width: 768px) {
      padding: 15px;
    }
  }
}

// ============ FOOTER ============
app-footer {
  flex-shrink: 0;
  height: auto;
  border-top: 1px solid #e9ecef;
}

// ============ RESPONSIVE ============
@media (max-width: 768px) {
  .layout-body {
    flex-direction: column;
  }

  app-sidebar {
    position: absolute;
    left: 0;
    right: 0;
    width: 100% !important;
    min-width: 100% !important;
    transform: translateX(-100%);
    transition: transform $transition;
    z-index: 900;
    height: calc(100vh - #{$navbar-height});
    border-right: none;
    border-bottom: 1px solid #e9ecef;

    &.mobile-open {
      transform: translateX(0);
    }
  }

  .layout-content {
    width: 100%;
  }
}

// ============ SMOOTH TRANSITIONS ============
* {
  transition: background-color 0.2s ease, color 0.2s ease;
}

// ============ SCROLLBAR STYLING ============
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f3f5;
}

::-webkit-scrollbar-thumb {
  background: #ced4da;
  border-radius: 4px;

  &:hover {
    background: #adb5bd;
  }
}

// ============ Z-INDEX STACKING ============
.navbar {
  position: relative;
  z-index: 1000;
}

app-sidebar {
  position: relative;
  z-index: 100;
}

.layout-content {
  position: relative;
  z-index: 1;
}

app-sidebar .nav-hover-submenu {
  z-index: 9999 !important;
  position: fixed !important;
}