<div class="container-fluid">
  <h3 class="mb-4"><i class="bi bi-database"></i> Master Data</h3>
  
  <!-- Action Buttons -->
  <div class="card mb-3">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <div class="btn-group">
          <button class="btn btn-success btn-sm" (click)="openAddModal()">
            <i class="bi bi-plus-circle"></i> Add
          </button>
          <button class="btn btn-info btn-sm" (click)="openOptionsModal()">
            <i class="bi bi-gear"></i> Option
          </button>
          <button class="btn btn-danger btn-sm" (click)="openOperationModal()">
            <i class="bi bi-wrench"></i> Operation
          </button>
        </div>
        <div class="btn-group">
          <button class="btn btn-outline-success btn-sm" (click)="exportExcel()">
            <i class="bi bi-file-earmark-excel"></i> Format Excel
          </button>
          <button class="btn btn-outline-primary btn-sm" (click)="printMasterData()">
            <i class="bi bi-printer"></i> Print Master Data
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Search & Entries -->
  <div class="card mb-3">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <label>Show 
            <select class="form-select form-select-sm d-inline-block w-auto mx-2" 
                    [(ngModel)]="itemsPerPage" 
                    (change)="calculatePagination()">
              <option value="10">10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
            entries
          </label>
        </div>
        <div class="col-md-6 text-end">
          <label>Search: 
            <input type="text" class="form-control form-control-sm d-inline-block w-auto ms-2" 
                   [(ngModel)]="searchTerm" 
                   (input)="onSearch()" 
                   placeholder="Search...">
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Data Table -->
  <div class="card">
    <div class="table-responsive">
      <table class="table table-striped table-hover table-sm mb-0">
        <thead class="table-primary">
          <tr>
            <th>ORIGINAL BARCODE</th>
            <th>BRAND</th>
            <th>COLOR</th>
            <th>SIZE</th>
            <th>FOUR DIGIT</th>
            <th>UNIT</th>
            <th>QUANTITY</th>
            <th>PRODUCTION</th>
            <th>MODEL</th>
            <th>MODEL CODE</th>
            <th>ITEM</th>
            <th>USERNAME</th>
            <th>DATE/TIME</th>
            <th>STOCK</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of paginatedData; let i = index">
            <td>{{ item.original_barcode }}</td>
            <td>{{ item.brand }}</td>
            <td>{{ item.color }}</td>
            <td>{{ item.size }}</td>
            <td>{{ item.four_digit }}</td>
            <td>{{ item.unit }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.production }}</td>
            <td>{{ item.model }}</td>
            <td>{{ item.model_code }}</td>
            <td>{{ item.item }}</td>
            <td>{{ item.username }}</td>
            <td>{{ item.date_time }}</td>
            <td>{{ item.stock }}</td>
          </tr>
          <tr *ngIf="paginatedData.length === 0">
            <td colspan="14" class="text-center text-muted">No data available in table</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <div class="card-footer">
      <div class="row align-items-center">
        <div class="col-md-6">
          <small class="text-muted">
            Showing {{ ((currentPage - 1) * itemsPerPage) + 1 }} to 
            {{ Math.min(currentPage * itemsPerPage, filteredData.length) }} of 
            {{ filteredData.length }} entries
          </small>
        </div>
        <div class="col-md-6">
          <nav>
            <ul class="pagination pagination-sm justify-content-end mb-0">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <a class="page-link" (click)="goToPage(1)">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of pageNumbers" [class.active]="page === currentPage">
                <a class="page-link" (click)="goToPage(page)">{{ page }}</a>
              </li>
              <li class="page-item">
                <span class="page-link">...</span>
              </li>
              <li class="page-item">
                <a class="page-link" (click)="goToPage(totalPages)">{{ totalPages }}</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <a class="page-link" (click)="goToPage(currentPage + 1)">Next</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>